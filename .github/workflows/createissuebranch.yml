# ================================================
# Create Issue Branch ğŸŒ±
#
# ãƒˆãƒªã‚¬ãƒ¼:
#   - IssueãŒã€Œassignedã€ã•ã‚ŒãŸã¨ã
#
# å‡¦ç†å†…å®¹:
#   1. Issueã®æƒ…å ±ã‚’å–å¾—
#   2. Issueç•ªå·ã‚’ãƒ–ãƒ©ãƒ³ãƒåã¨ã—ã¦æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆï¼ˆä¾‹: issue-42ï¼‰
#   3. ä½œæˆã—ãŸãƒ–ãƒ©ãƒ³ãƒã‚’ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥
#
# ç›®çš„:
#   - å„Issueã«å¯¾å¿œã™ã‚‹ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‚’è‡ªå‹•ã§ç”Ÿæˆã—ã€æ‰‹å‹•ã§ã®ãƒ–ãƒ©ãƒ³ãƒä½œæˆã‚’çœç•¥
#
# æ³¨æ„ç‚¹:
# - GitHubã® `GITHUB_TOKEN` ã‚’ä½¿ã£ã¦ãƒ–ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã€ãƒªãƒã‚¸ãƒˆãƒªã®æ›¸ãè¾¼ã¿æ¨©é™è¨­å®šãŒå¿…è¦ã§ã™ã€‚
# ================================================

name: Create Issue Branch ğŸŒ±

# IssueãŒã‚¢ã‚µã‚¤ãƒ³ã•ã‚ŒãŸã¨ãã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ãƒˆãƒªã‚¬ãƒ¼
on:
  issues:
    types: [assigned]

permissions:
  contents: write
  issues: write

jobs:
  create_issue_branch_job:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # Issueç•ªå·ã«ã‚ˆã‚‹"issue-<issueç•ªå·>"ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
      - name: Create branch named by issue number
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git fetch origin
          git checkout -b "issue-${{ github.event.issue.number }}"
          git push origin "issue-${{ github.event.issue.number }}"

        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}